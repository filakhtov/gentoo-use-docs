# sys-devel/llvm

### binutils-plugin
Ensure that the [sys-devel/binutils](../sys-devel/binutils.md) package installed with the `cxx` flag enabled and pull in the `sys-devel/llvmgold` package as a dependency. Build and install the LLVMgold plugin that allows to use the `ld.gold` linker for LTO (link time optimization) to yield reduced code size and increased execution speed of the resulting binaries.

This flag should normally be disabled, because it increases compile time and can cause some compatibility issues.

### debug
Pass the `-DLLVM_ENABLE_ASSERTIONS=on` (`off` when the flag is disabled) to the cmake command. Enable runtime assertions, but only if the build type is `Debug`.

This flag should normally be disabled.

### doc
Pass the `-DLLVM_BUILD_DOCS=on`, `-DLLVM_ENABLE_SPHINX=on`, `-DSPHINX_WARNINGS_AS_ERRORS=OFF` and additional options to set destination directories for the documentation install to the cmake command. Generate the LLVM documentation in the HTML format using the Sphinx tool from RST source files and install it into the `/usr/share/doc/llvm-<VERSION>/html` directory.

It is safe to disable the flag.

### exegesis
Pass the `-DLLVM_ENABLE_LIBPFM=on` (`off` if the flag is disabled) option to the cmake command. Build and install the `llvm-exegesis` binary - a benchmarking tool that uses information available in LLVM to measure host machine instruction characteristics like latency, throughput, or port decomposition.

This flag can be safely disabled.

### libedit
Pass the `-DLLVM_ENABLE_LIBEDIT=on` (`off` if the flag is disabled) option to the cmake command. Use the Line Editing library `libedit` to provide tab completion support that can be utilized by multiple clients, such as `clang-query` and `LLDB`.

It is safe to disable the flag, unless the tab completion is necessary, e.g. for debugging with LLDB.

### libffi
Pass the `-DLLVM_ENABLE_FFI=on` (`off` if the flag is disabled) and append extra `CFLAGS` and `LDFLAGS`. Use the Foreign Interface Library `libffi` in order to provide an ability to call external (natively compiled) functions, including ones written in a different language or generated by a different compiler.

This flag should normally be enabled if there is a need to execute foreign functions, and can be safely disabled otherwise (e.g. for OpenGL support).

### ncurses
Pass the `-DLLVM_ENABLE_TERMINFO=on` (`off` when the flag is disabled) option to the cmake command. Use the `terminfo` database provided by the `ncurses` library to detect terminal type, its properties and appropriate escape sequences.

This flag can be safely disabled if there is a need to save space or minimize dependencies.

### test
Pass the `-DLLVM_BUILD_TESTS=on` (`off` if the flag is disabled) option to the cmake command. Build the test suite provided with the source code. Disable PaX MPROTECT restrictions by setting an `m` flag on the tests related to JIT (Just-In-Time) compilation, ORC (Oil Runtime Compiler) and others that would otherwise cause violation. Execute the ctest command when the main build is completed to check for regressions.

This flag should normally be disabled, because these tests are only used by developers and maintainers.

### xar
Pass the `-DLLVM_HAVE_LIBXAR=1` (`0` when the flag is disabled) option to the cmake command. Enable support for the `xar` (eXtensible ARchive) compressed object files for the `llvm-objdump` tool to provide an ability to print contents of object files and final linked images.

It is safe to disable the flag, unless there is a need to dump information about xar compressed object files and binary images.

### xml
Pass the `-DLLVM_ENABLE_LIBXML2=on` (`off` if the flag is disabled) option to the cmake command. Use the `libxml2` library to handle an XML document tree manipulations when merging Microsoft `.manifest` files.

This flag should normally be disabled, unless there is a need to work with Microsoft based stack, that requires manifest handling.

### z3
Pass the `-DLLVM_ENABLE_Z3_SOLVER=on` (`off` when the flag is disabled) option to the cmake command. Use the z3 SMT (Satisfiability Modulo Theories) problem solver library for the clang static analyzer, when performing symbolic execution on input code. Z3 theorem prover is slower than LLVM's built-in range-based solver, but can handle more complex queries.

It is safe to disable this flag.
